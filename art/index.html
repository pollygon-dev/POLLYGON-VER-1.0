<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D3SKTOP</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pangolin&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="gallery.css">
</head>
<body>
    
    <div class="desktop-container">
        <div class="desktop-header">★ POLLY'S DESKTOP ★</div>
        <div class="sticky-note">
            <div class="note-title">Recent Updates</div>
            <div class="note-content">
                <div class="update-card">
                    <div class="update-text">Added my 2025 art!</div>
                    <div class="update-date">2025.05.31</div>
                </div>
            </div>
        </div>
        <div class="monitor-content">
            <!-- Navigation Section -->
            <div class="section-card nav-section">
                <div class="card-header">Art</div>
                <div class="nav-icons">
                    <div class="nav-icon" data-modal="modal1">
                        <div class="icon-box">
                            <i class="fas fa-image"></i>
                        </div>
                        Gallery
                    </div>
                    <!-- <div class="nav-icon" data-modal="modal2">
                        <div class="icon-box">
                            <i class="fas fa-palette"></i>
                        </div>
                        Modal 2
                    </div> -->
                    <!-- <div class="nav-icon" data-modal="modal3">
                        <div class="icon-box">
                            <i class="fas fa-list-check"></i>
                        </div>
                        Modal 3
                    </div> -->
                </div>
            </div>

            <!-- Status Section -->
            <div class="status-section">
                <div class="section-card">
                    <div class="card-header">Status</div>
                    <div class="status-content">
                        <div class="status-avatar">
                            <img src="flan.png" alt="Profile" class="avatar-image">
                        </div>
                        <div class="status-info">
                            <div class="status-name">Polly | @pollygon.dev</div>
                            <div class="status-message">Thanks for checking out my desktop! You'll find my art in this computer.</div>
                        </div>
                    </div>
                </div>

                <!-- <div class="section-card">
                    <div class="card-header">Status</div>
                    <div class="commission-status">
                        <div class="status-item">Status: <span class="highlight">Lorem</span></div>
                    </div>
                </div> -->
            </div>
            
            <!-- Modals -->
            <div class="modal" id="modal1">
                <div class="modal-header">
                    <h3 class="modal-title">Gallery</h3>
                    <div class="modal-controls">
                        <button class="minimize-button"><i class="fas fa-minus"></i></button>
                        <button class="fullscreen-button"><i class="fas fa-expand"></i></button>
                        <button class="close-button">×</button>
                    </div>
                </div>
                <div class="modal-content">
                    <!-- Your content goes here -->
                      <div class="gallery-container">
                        <div id="gallery-sections">
                            <!-- Gallery sections will be generated by JavaScript -->
                        </div>
                    </div>
                    <div class="content-container">
                        <!-- Add your specific content structure here -->
                    </div>
                </div>
            </div>
            
            <div class="modal" id="modal2">
                <div class="modal-header">
                    <h3 class="modal-title">Modal 2</h3>
                    <div class="modal-controls">
                        <button class="minimize-button"><i class="fas fa-minus"></i></button>
                        <button class="fullscreen-button"><i class="fas fa-expand"></i></button>
                        <button class="close-button">×</button>
                    </div>
                </div>
                <div class="modal-content">
                    <!-- Your content goes here -->
                    <div class="content-container">
                        <!-- Add your specific content structure here -->
                    </div>
                </div>
            </div>

            <div class="modal" id="modal3">
                <div class="modal-header">
                    <h3 class="modal-title">Modal 3</h3>
                    <div class="modal-controls">
                        <button class="minimize-button"><i class="fas fa-minus"></i></button>
                        <button class="fullscreen-button"><i class="fas fa-expand"></i></button>
                        <button class="close-button">×</button>
                    </div>
                </div>
                <div class="modal-content">
                    <!-- Your content goes here -->
                    <div class="content-container">
                        <!-- Add your specific content structure here -->
                    </div>
                </div>
            </div>

        <!-- Taskbar -->
        <div class="taskbar">
            <div class="taskbar-start-container">
                <button class="taskbar-start">Start</button>
                <div class="start-menu">
                    <button class="start-menu-item" data-modal="modal1">
                        <i class="fas fa-image"></i><span>Art</span>
                    </button>
                    <!-- <button class="start-menu-item" data-modal="modal2">
                        <i class="fas fa-palette"></i><span>Modal 2</span>
                    </button>
                    <button class="start-menu-item" data-modal="modal3">
                        <i class="fas fa-tasks"></i><span>Modal 3</span>
                    </button> -->
                    <div class="start-menu-divider"></div>
                    <button class="start-menu-item">
                        <i class="fas fa-power-off"></i><span>Power</span>
                    </button>
                </div>
            </div>
            <div class="taskbar-items"></div>
            <div class="taskbar-right">
                <span class="timestamp"></span>
            </div>
        </div>
    </div>

    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="closeLightbox()">×</button>
            <button class="lightbox-nav lightbox-prev" onclick="prevImage()">‹</button>
            <button class="lightbox-nav lightbox-next" onclick="nextImage()">›</button>
            <img id="lightbox-image" src="" alt="">
            <div class="lightbox-info" id="lightbox-info"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="script.js"></script>
    <script>
      // Sample images data organized by year
         const imagesByYear = {
            '2025': [
                {
                    src: "all/2025/ariake.png",
                    title: "Ariake"
                },
                {
                    src: "all/2025/ariake2.png",
                    title: "Ariake 2"
                },
                {
                    src: "all/2025/ariakebun.png",
                    title: "Ariake Bun"
                },
                {
                    src: "all/2025/ariakebust.png",
                    title: "Ariake Bust"
                },
                {
                    src: "all/2025/ariakemonitoring.gif",
                    title: "Ariake Monitoring"
                },
                {
                    src: "all/2025/belfaelor.png",
                    title: "Belfaelor"
                },
                {
                    src: "all/2025/hans.png",
                    title: "Hans"
                },
                {
                    src: "all/2025/morgann.png",
                    title: "Morgann"
                },
                {
                    src: "all/2025/neptune.png",
                    title: "Neptune"
                },
                {
                    src: "all/2025/purpleheart.png",
                    title: "Purple Heart"
                },
                {
                    src: "all/2025/shimbashiretr.png",
                    title: "Shimbashi Retr"
                }
            ],
            '2024': [
                {
                    src: "all/2024/alice.png",
                    title: "Alice, the knight of a forgotten kingdom"
                },
                {
                    src: "all/2024/hal.png",
                    title: "Hal"
                },
                {
                    src: "all/2024/deadringer.png",
                    title: "Dead Ringer"
                },
                {
                    src: "all/2024/lulu.png",
                    title: "Lulu"
                },
                {
                    src: "all/2024/luluuma.png",
                    title: "Lulu - Uma Pyoi!"
                },
                {
                    src: "all/2024/cag.png",
                    title: "Cagliostro"
                }
            ],
            '2023': [
                {
                    src: "all/2023/kdjj.png",
                    title: "Kim Dokja"
                },
                {
                    src: "all/2023/kdj.png",
                    title: "Kim Dokja Chibi"
                },
                {
                    src: "all/2023/newemil.png",
                    title: "Emil"
                },
                {
                    src: "all/2023/emilfbref.png",
                    title: "Emil Chibi"
                },
                {
                    src: "all/2023/leb.png",
                    title: "Lebkuchen"
                },
                {
                    src: "all/2023/yoojin.png",
                    title: "Han Yoojin"
                },
                {
                    src: "all/2023/aphelios.png",
                    title: "HEARTSTEEL Aphelios"
                },
                {
                    src: "all/2023/ezreal.png",
                    title: "HEARTSTEEL Ezreal"
                },
                {
                    src: "all/2023/IL.png",
                    title: "Dan Heng: IL Chibi"
                },
                {
                    src: "all/2023/arencaelan.png",
                    title: "To a new dawn"
                }
            ],
            '2022': [
                {
                    src: "all/2022/gorls.png",
                    title: "Sunset"
                },
                {
                    src: "all/2022/passenger.png",
                    title: "SesaPasse gaming"
                },
                {
                    src: "all/2022/kimdokja.png",
                    title: "Kim Dokja Redraw"
                },
                {
                    src: "all/2022/yoojoonghyuk.png",
                    title: "Yoo Joonghyuk Redraw"
                },
                {
                    src: "all/2022/brighteralicelol.png",
                    title: "Alice"
                },
                {
                    src: "all/2022/finaltestament.png",
                    title: "Testament"
                },
                {
                    src: "all/2022/melinacold.png",
                    title: "Melina"
                }
            ],
            '2021': [
                {
                    src: "all/2021/caleflower.png",
                    title: "Cale"
                },
                {
                    src: "all/2021/choihanwoh.png",
                    title: "Choi Han"
                },
                {
                    src: "all/2021/choikel.png",
                    title: "April Shower"
                },
                {
                    src: "all/2021/farmingwo.png",
                    title: "His Dream"
                },
                {
                    src: "all/2021/nekomancerwo.png",
                    title: "Nekomancer KDJ"
                }
            ]
        };

        // Create a flat array of all images with year info for lightbox navigation
        let allImages = [];
        Object.keys(imagesByYear).forEach(year => {
            imagesByYear[year].forEach(image => {
                allImages.push({ ...image, year: year });
            });
        });

        let currentImageIndex = 0;

        function generateGallery() {
            const container = document.getElementById('gallery-sections');
            
            // Sort years in descending order (newest first)
            const sortedYears = Object.keys(imagesByYear).sort((a, b) => parseInt(b) - parseInt(a));
            
            sortedYears.forEach(year => {
                // Create year section
                const yearSection = document.createElement('div');
                yearSection.className = 'year-section';
                
                // Create year header
                const yearHeader = document.createElement('div');
                yearHeader.className = 'year-header';
                yearHeader.textContent = year;
                yearSection.appendChild(yearHeader);
                
                // Create gallery grid for this year
                const gallery = document.createElement('div');
                gallery.className = 'gallery';
                
                // Add images for this year
                imagesByYear[year].forEach((image, yearIndex) => {
                    const globalIndex = allImages.findIndex(img => 
                        img.src === image.src && img.title === image.title
                    );
                    
                    const item = document.createElement('div');
                    item.className = 'gallery-item';
                    item.onclick = () => openLightbox(globalIndex);
                    
                    const img = document.createElement('img');
                    img.src = image.src;
                    img.alt = image.title;
                    img.loading = 'lazy';
                    
                    item.appendChild(img);
                    gallery.appendChild(item);
                });
                
                yearSection.appendChild(gallery);
                container.appendChild(yearSection);
            });
        }

        function openLightbox(index) {
            currentImageIndex = index;
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxInfo = document.getElementById('lightbox-info');
            
            lightboxImage.src = allImages[index].src;
            lightboxInfo.textContent = `${allImages[index].title} (${allImages[index].year})`;
            lightbox.classList.add('active');
            
            // Prevent parent page scroll
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % allImages.length;
            updateLightboxImage();
        }

        function prevImage() {
            currentImageIndex = (currentImageIndex - 1 + allImages.length) % allImages.length;
            updateLightboxImage();
        }

        function updateLightboxImage() {
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxInfo = document.getElementById('lightbox-info');
            
            lightboxImage.src = allImages[currentImageIndex].src;
            lightboxInfo.textContent = `${allImages[currentImageIndex].title} (${allImages[currentImageIndex].year})`;
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('lightbox').classList.contains('active')) {
                if (e.key === 'Escape') closeLightbox();
                if (e.key === 'ArrowRight') nextImage();
                if (e.key === 'ArrowLeft') prevImage();
            }
        });

        // Close lightbox when clicking outside content
        document.getElementById('lightbox').addEventListener('click', (e) => {
            if (e.target.id === 'lightbox') {
                closeLightbox();
            }
        });

        // Prevent context menu for cleaner iframe experience
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });

        // Initialize
        generateGallery();

        // Expose functions for parent page communication (optional)
        window.galleryAPI = {
            openImage: openLightbox,
            closeGallery: closeLightbox,
            updateImages: function(newImages) {
                images.splice(0, images.length, ...newImages);
                document.getElementById('gallery').innerHTML = '';
                generateGallery();
            }
        };
    </script>
</body>
</html>